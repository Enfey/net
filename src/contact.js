import{createClient as e}from"https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";let supabase=e("https://qviwhpnmdktfvfztfcpt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF2aXdocG5tZGt0ZnZmenRmY3B0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTkyNTIxODMsImV4cCI6MjAzNDgyODE4M30.tqkIJml1CmdVow1i5uhmSp9-UDPtFmwZJGWt26-X4ek"),contactForm=document.getElementById("contact-form"),feedbackMessageElement=document.getElementById("feedback-message");function validation(e,s,t){return""===e||""===s||""===t?(showFeedbackMessage("All fields are required"),!1):/^[a-zA-Z\s]{2,20}$/.test(e)?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)?!!/^.{1,250}$/.test(t)||(showFeedbackMessage("Invalid message "),!1):(showFeedbackMessage("Invalid email format"),!1):(showFeedbackMessage("Invalid name format"),!1)}async function insertRow(e,s,t){let{error:a}=await supabase.from("contact").insert([{name:e,email:s,message:t}]);a&&console.log("Error inserting row:",a.message)}function showFeedbackMessage(e){feedbackMessageElement.style.display="block",feedbackMessageElement.textContent=e,setTimeout(()=>{feedbackMessageElement.style.display="none"},3e3)}contactForm.addEventListener("submit",async e=>{e.preventDefault();let s=contactForm.elements.name.value.trim(),t=contactForm.elements.email.value.trim(),a=contactForm.elements.message.value.trim();if(validation(s,t,a))try{await insertRow(s,t,a),showFeedbackMessage("Message sent successfully :-)"),contactForm.reset()}catch(n){showFeedbackMessage("An error occurred while sending the message.")}});


  